/* ============================================
   FUNCIONALIDADES DE ACCESIBILIDAD
   Archivo: accessibility-functions.css
   ============================================ */

/* ============================================
   TAMAÑOS DE FUENTE
   ============================================ */

html.font-small {
    font-size: 14px;
}

html.font-normal {
    font-size: 16px;
}

html.font-large {
    font-size: 20px;
}

html.font-large body {
    line-height: 1.8;
}

/* ============================================
   MODOS DE CONTRASTE
   ============================================ */

/* Contraste normal - sin cambios */
html.contrast-normal {
    /* Sin modificaciones */
}

/* Alto contraste */
html.contrast-high {
    filter: contrast(1.5) brightness(1.1);
}

html.contrast-high body {
    background: #ffffff !important;
    color: #000000 !important;
}

html.contrast-high a {
    color: #0000EE !important;
    font-weight: 600 !important;
}

html.contrast-high button,
html.contrast-high .control-btn {
    border-width: 3px !important;
}

/* Contraste invertido */
html.contrast-inverted {
    filter: invert(1) hue-rotate(180deg);
}

html.contrast-inverted img,
html.contrast-inverted video {
    filter: invert(1) hue-rotate(180deg);
}

/* ============================================
   ESCALA DE GRISES
   ============================================ */

html.grayscale-mode {
    filter: grayscale(100%);
}

html.grayscale-mode img,
html.grayscale-mode video {
    filter: grayscale(100%);
}

/* ============================================
   ESPACIADO ENTRE LÍNEAS
   ============================================ */

html.line-spacing-extended body,
html.line-spacing-extended p,
html.line-spacing-extended li,
html.line-spacing-extended div {
    line-height: 2.2 !important;
}

html.line-spacing-extended h1,
html.line-spacing-extended h2,
html.line-spacing-extended h3,
html.line-spacing-extended h4,
html.line-spacing-extended h5,
html.line-spacing-extended h6 {
    line-height: 1.8 !important;
    margin-bottom: 1.5rem !important;
}

/* ============================================
   ESPACIADO ENTRE LETRAS
   ============================================ */

html.letter-spacing-extended body,
html.letter-spacing-extended p,
html.letter-spacing-extended li,
html.letter-spacing-extended span,
html.letter-spacing-extended a,
html.letter-spacing-extended div {
    letter-spacing: 0.1em !important;
}

html.letter-spacing-extended h1,
html.letter-spacing-extended h2,
html.letter-spacing-extended h3,
html.letter-spacing-extended h4,
html.letter-spacing-extended h5,
html.letter-spacing-extended h6 {
    letter-spacing: 0.05em !important;
}

/* ============================================
   FUENTE LEGIBLE
   ============================================ */

html.readable-font,
html.readable-font * {
    font-family: 'Arial', 'Helvetica', sans-serif !important;
}

html.readable-font body {
    font-weight: 400 !important;
}

html.readable-font h1,
html.readable-font h2,
html.readable-font h3,
html.readable-font h4,
html.readable-font h5,
html.readable-font h6 {
    font-weight: 700 !important;
}

/* ============================================
   RESALTAR ENLACES
   ============================================ */

html.highlight-links a {
    background-color: #FFEB3B !important;
    color: #000000 !important;
    padding: 2px 6px !important;
    border-radius: 3px !important;
    text-decoration: underline !important;
    font-weight: 600 !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    transition: all 0.2s ease !important;
}

html.highlight-links a:hover {
    background-color: #FDD835 !important;
    transform: scale(1.05) !important;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3) !important;
}

html.highlight-links a:focus {
    outline: 3px solid #FF5722 !important;
    outline-offset: 2px !important;
}

/* ============================================
   CURSOR GRANDE
   ============================================ */

html.big-cursor,
html.big-cursor * {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M2 2 L2 28 L12 20 L16 28 L20 26 L16 18 L26 18 Z" fill="black" stroke="white" stroke-width="2"/></svg>') 0 0, auto !important;
}

html.big-cursor a,
html.big-cursor button,
html.big-cursor input[type="button"],
html.big-cursor input[type="submit"],
html.big-cursor .control-btn {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M16 2 L16 12 L22 6 L26 10 L20 16 L30 16 L30 20 L20 20 L26 26 L22 30 L16 24 L16 34 L12 34 L12 24 L6 30 L2 26 L8 20 L-2 20 L-2 16 L8 16 L2 10 L6 6 L12 12 L12 2 Z" fill="black" stroke="white" stroke-width="2"/></svg>') 16 16, pointer !important;
}

/* ============================================
   PAUSAR ANIMACIONES
   ============================================ */

html.pause-animations,
html.pause-animations *,
html.pause-animations *::before,
html.pause-animations *::after {
    animation-play-state: paused !important;
    animation-duration: 0s !important;
    transition-duration: 0s !important;
}

/* ============================================
   OCULTAR IMÁGENES
   ============================================ */

html.hide-images img {
    opacity: 0 !important;
    visibility: hidden !important;
}

html.hide-images video {
    opacity: 0 !important;
    visibility: hidden !important;
}

html.hide-images picture {
    opacity: 0 !important;
    visibility: hidden !important;
}

/* Mostrar texto alternativo */
html.hide-images img::after {
    content: attr(alt) !important;
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
    background: #f5f5f5 !important;
    padding: 1rem !important;
    color: #333 !important;
    font-size: 0.9rem !important;
}

/* ============================================
   MODO DE LECTURA
   ============================================ */

html.reading-mode header,
html.reading-mode nav,
html.reading-mode aside,
html.reading-mode footer,
html.reading-mode .sidebar,
html.reading-mode .advertisement,
html.reading-mode .ads,
html.reading-mode .banner {
    filter: blur(3px) opacity(0.3) !important;
    pointer-events: none !important;
}

html.reading-mode main,
html.reading-mode article,
html.reading-mode .content {
    position: relative !important;
    z-index: 100 !important;
    background: #ffffff !important;
    padding: 2rem !important;
    max-width: 800px !important;
    margin: 0 auto !important;
    box-shadow: 0 0 50px rgba(0, 0, 0, 0.2) !important;
}

/* ============================================
   MEJORAS GENERALES DE ACCESIBILIDAD
   ============================================ */

/* Mejor enfoque en elementos interactivos */
html *:focus {
    outline: 3px solid #2196F3;
    outline-offset: 2px;
}

/* Animación suave para todos los cambios */
html * {
    transition: filter 0.3s ease, opacity 0.3s ease;
}

/* ============================================
   COMBINACIONES ESPECIALES
   ============================================ */

/* Alto contraste + Escala de grises */
html.contrast-high.grayscale-mode {
    filter: grayscale(100%) contrast(2);
}

/* Fuente legible + Espaciado extendido */
html.readable-font.letter-spacing-extended.line-spacing-extended p {
    line-height: 2.5 !important;
    letter-spacing: 0.12em !important;
}

/* ============================================
   ANIMACIONES ESPECIALES (cuando permitidas)
   ============================================ */

@keyframes pulse-focus {
    0%, 100% {
        box-shadow: 0 0 0 0 rgba(33, 150, 243, 0.7);
    }
    50% {
        box-shadow: 0 0 0 10px rgba(33, 150, 243, 0);
    }
}

html:not(.pause-animations) a:focus,
html:not(.pause-animations) button:focus {
    animation: pulse-focus 1.5s infinite;
}

/* ============================================
   RESPONSIVE - MÓVIL
   ============================================ */

@media (max-width: 768px) {
    html.font-large {
        font-size: 18px;
    }

    html.line-spacing-extended body,
    html.line-spacing-extended p {
        line-height: 2 !important;
    }

    html.reading-mode main,
    html.reading-mode article,
    html.reading-mode .content {
        padding: 1rem !important;
    }
}

/* ============================================
   PRINT STYLES (Mantener accesibilidad al imprimir)
   ============================================ */

@media print {
    html.grayscale-mode {
        filter: none;
    }

    html.contrast-inverted {
        filter: none;
    }

    html.highlight-links a {
        background-color: transparent !important;
        color: #0000EE !important;
        text-decoration: underline !important;
    }
}

/* ============================================
   COMPATIBILIDAD CON LECTORES DE PANTALLA
   ============================================ */

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* ============================================
   INDICADORES VISUALES DE ESTADO
   ============================================ */

/* Mostrar qué funciones están activas */
html[class*="font-"]::before,
html[class*="contrast-"]::before,
html.grayscale-mode::before {
    content: '';
    position: fixed;
    bottom: 10px;
    left: 10px;
    width: 10px;
    height: 10px;
    background: #4CAF50;
    border-radius: 50%;
    z-index: 9999;
    opacity: 0.7;
    pointer-events: none;
}
